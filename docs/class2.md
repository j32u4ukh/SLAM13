# 前端

又稱為"視覺里程計"，估計相機之間的運動，主要可分為兩種方法：

1. 特徵點法：考慮到 SLAM 的即時性要求，雖然有許多優點(穩定、對光源和動態物體不敏感的優勢)，但需要花費大量的計算時間。
2. 直接法：基於光流法，尋找兩相機間的同一點。優點有計算速度快，在缺乏紋理特徵的情況下也可使用，可建置半稠密與稠密地圖(特徵點法無法做到)。

## 核心問題

***如何根據影像，估計相機運動？***

可以從影像中選出較有代表性的點，這些點在相機角度發生少量變化後保持不變，讓我們能在不同影像間找到相同的點。

這些點稱為 "影像特徵(Feature)" 在 SLAM 當中稱為 "路標"。

### 特徵比對

確立目前看到的路標，和之前看到的路標之間的對應關係。

### 三角測量

![三角測量]("image/triangulation.png")

透過不同位置對同一路標點進行觀察，從觀察到的位置推斷路標點的距離。

理論上 向量(O1P1) 和 向量(O2P2) 會在場景中相交於一點 P，但由於雜訊影響的關係，兩向量通常無法相交。

* 三角測量是由"平移"而獲得的，沒有平移的純旋轉是無法計算的。

## 特徵點法

優點：

1. 穩定。
2. 對光源、動態物體不敏感。

缺點：

1. 計算非常耗時
2. 一幅影像有幾十萬個像素，只使用數百個特徵點，而忽略(可能是有用的)以外的所有資訊。
3. 當場景無明顯紋理、特徵缺失時，導致特徵點數量不足，難以找到比對點來計算來計算相機運動。

## 直接法

優點：

1. 速度快。
2. 只須像素梯度，不須特徵點，因此只要場景中存在明暗變化，直接法就能工作，特徵缺失的場景也能使用。
3. 可建置半稠密 ~ 稠密的地圖，這是特徵法無法做到的。

缺點：

1. 非凸性，透過梯度在非凸函數中尋找極小值，容易落入區域最小值，而非全域最小值。較適合運動幅度較小的場景。可利用影像金字塔減小非凸性的影響。
2. 單一像素沒有區分度，需使用一區塊的像素來比較。
3. 灰階值不變假設過於嚴格，經常無法滿足。

<table>
  <tr>
    <td><a href="https://j32u4ukh.github.io/SLAM13/class1.html">上一篇</a></td>
    <td><a href="https://j32u4ukh.github.io/SLAM13/">首頁</a></td>
    <td><a href="https://j32u4ukh.github.io/SLAM13/class3.html">下一篇</a></td>
  </tr>
</table>
